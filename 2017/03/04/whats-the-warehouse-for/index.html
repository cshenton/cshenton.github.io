<!DOCTYPE html>
<html>
    <head>
        <meta name="google-site-verification" content="D32gxomwQXNWZYIlG8Lk6iVuPNduhXgpVCOmnJYKEno" />
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>The Data Warehouse is an Antipattern &middot; Charles Shenton</title>
        <meta name="description" content="Data Plumbing From startups to enterprise, the term &ldquo;Data Warehouse&rdquo; has a sort of hallowed quality to it. It is, after all, where all that valuable data foolishly discarded by operational systems ends up. It&rsquo;s the only place to get a 360 degree customer view in an increasingly service-oriented world, and can even be used by those mysterious data scientists, or (if we&rsquo;re so lucky), for doing BIG Data.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.18.1" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="http://leandataguy.com/dist/styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
    </head>
    <body>
        
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-91402853-1', 'auto');
ga('send', 'pageview');
</script>


        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="Lean Data Guy" href="http://leandataguy.com/">Lean Data Guy</a>
                            </h1>
                        
                        <a class="button-square" href="http://leandataguy.com/index.xml"><i class="fa fa-rss"></i></a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/cshenton">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" title="Email" href="mailto:charlie@leandataguy.com">
                                <i class="fa fa-envelope"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Blog" href="/">Blog</a>
    </li>

    <li class="site-nav-item">
        <a title="About" href="/page/about/">About</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">The Data Warehouse is an Antipattern</h1>
    
    <p class="post-date">
        <span>Published <time datetime="2017-03-04" itemprop="datePublished">Sat, Mar 4, 2017</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="" itemprop="url" rel="author">Charles Shenton</a>
            </span>
        </span>
    </p>
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    

<h1 id="data-plumbing">Data Plumbing</h1>

<p>From startups to enterprise, the term &ldquo;Data Warehouse&rdquo; has a sort of hallowed quality to it. It is, after all, where all that <em>valuable</em> data foolishly discarded by operational systems ends up. It&rsquo;s the only place to get a <em>360 degree customer view</em> in an increasingly service-oriented world, and can even be used by those mysterious data scientists, or (if we&rsquo;re so lucky), for doing <strong>BIG</strong> Data.</p>

<p>And whether you call it a data warehouse, a data lake, or a series of data marts; whether you&rsquo;re getting the data there by ETL or ELT, the pattern&rsquo;s much the same anywhere you go:</p>

<ul>
<li>Grab the binary logs / table extracts from your production databases</li>
<li>Grab all the weblogs and 3rd party SaaS data</li>
<li>(optional) transform it into a mostly logical data model</li>
<li>Put it all in one place so it can be queried together</li>
</ul>

<p>Although the first steps might be a bit trickier, say, if you&rsquo;re using SAP business objects (my condolences) or there are some cowboys running Access databases in prod (my commiserations), the end result is much the same:</p>

<p><strong>An expensive, specialised database which is miserably coupled to every data producing service in your company.</strong></p>

<h1 id="the-monolith-returns">The Monolith Returns</h1>

<p>Which is exactly what we were trying to avoid when we organised operations as a series of interconnected services. The reason this is bad is that the data warehouse exists on the assumption that lots of people need it. Departmental reporting needs it, BI needs it, Analytics needs it, those Data Scientists need it. At the same time, since it is tightly coupled not just to one, but to multiple services, a single schema migration in an upstream service can easily frustrate or even break the efforts of those teams dependent on it.</p>

<h3 id="let-services-be-services">Let Services be Services</h3>

<p>However, the services whose production databases the warehouse replicates manage to avoid breaking after every database migration. This is because they operate on a fixed <strong>service contract</strong>, usually in the form of a documented API that passes messages in JSON, or (if you like your APIs enterprisey) XML.</p>

<p>This means that each service knows which resources and message schemas its consumers depend on, which enables it to make changes and add functionality with impunity, so long as that contract is maintained. This means that underlying database schemas, and even database and application runtimes can be changed without breaking anything.</p>

<p>Without breaking anything, that is, except the data warehouse. By directly coupling to the database rather than the API, the warehouse breaks that service contract and makes itself more fragile as a service.</p>

<h1 id="what-s-to-be-done">What&rsquo;s to be Done?</h1>

<p>This is a bad situation. In my current job, I&rsquo;ve worked with analytics teams whose predictive models were frequently being broken by the very department that relied on them, and the root cause was that their source data was too tightly coupled to that department&rsquo;s application database. However, I&rsquo;ve also seen teams running analytical queries against operational databases, which is at best slow and at worse will break things.</p>

<p>And the goals of warehousing data are good ones:</p>

<ul>
<li>Ensuring no potentially valuable information is discarded by an operational system</li>
<li>Unifying data across services to answer questions that can&rsquo;t be answered through any single service API or database</li>
<li>Being a go to point for data used for modelling purposes</li>
<li>Providing database technologies optimised for analytical queries</li>
</ul>

<p>So why are data warehouses a hornet&rsquo;s nest of architectural antipatterns? Precisely because they try to solve all these important problems at once.</p>

<p>Over the next few months, I&rsquo;ll be breaking these goals down and looking at solutions that are a little less monolithic than a centralised data warehouse. When I do, I&rsquo;ll be coming back and updating this article, which for now will have to settle for complaining about a problem without proposing a solution.</p>

</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/services/">services</a>, 
            
                <a href="/tags/coupling/">coupling</a>, 
            
                <a href="/tags/data-warehouse/">data warehouse</a>, 
            
                <a href="/tags/data-lake/">data lake</a>, 
            
                <a href="/tags/data-engineering/">data engineering</a>, 
            
                <a href="/tags/architecture/">architecture</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?text=The%20Data%20Warehouse%20is%20an%20Antipattern&url=http%3a%2f%2fleandataguy.com%2f2017%2f03%2f04%2fwhats-the-warehouse-for%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fleandataguy.com%2f2017%2f03%2f04%2fwhats-the-warehouse-for%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
            </a>
        

        
            <a class="icon-google-plus" href="https://plus.google.com/share?url=http%3a%2f%2fleandataguy.com%2f2017%2f03%2f04%2fwhats-the-warehouse-for%2f"
              onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
              <i class="fa fa-google-plus"></i>
                <span class="hidden">Google+</span>
            </a>
        
    </div>
</footer>

        
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'leandataguy';
    var disqus_identifier = 'http:\/\/leandataguy.com\/2017\/03\/04\/whats-the-warehouse-for\/';
    var disqus_title = 'The Data Warehouse is an Antipattern';
    var disqus_url = 'http:\/\/leandataguy.com\/2017\/03\/04\/whats-the-warehouse-for\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="Lean Data Guy" href="http://leandataguy.com/">Lean Data Guy</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2017 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="http://leandataguy.com/js/jquery-1.11.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
        <script src="http://leandataguy.com/js/jquery.fitvids.js"></script>
        <script src="http://leandataguy.com/js/scripts.js"></script>
    </body>
</html>

